var titleTime,OriginTitle=document.title;function qipao(){$("#page-header").circleMagic({radius:10,density:.2,color:"rgba(255,255,255,.4)",clearOffset:.99})}document.addEventListener("visibilitychange",function(){document.hidden?($('[rel="icon"]').attr("href","/img/favicon.ico"),document.title="(っ °Д °;)っ 访问的页面不存在了",clearTimeout(titleTime)):($('[rel="icon"]').attr("href","/img/favicon.ico"),document.title="( •̀ ω •́ )✧ 又好啦 ~"+OriginTitle,titleTime=setTimeout(function(){document.title=OriginTitle},2e3))}),function(m){m.fn.circleMagic=function(t){var i,o,e,n,a=!0,r=[],c=m.extend({color:"rgba(255,0,0,.5)",radius:10,density:.3,clearOffset:.2},t),l=this[0];function d(){if(a)for(var t in n.clearRect(0,0,i,o),r)r[t].draw();requestAnimationFrame(d)}function s(){var t=this;function e(){t.pos.x=Math.random()*i,t.pos.y=o+100*Math.random(),t.alpha=.1+Math.random()*c.clearOffset,t.scale=.1+.3*Math.random(),t.speed=Math.random(),"random"===c.color?t.color="rgba("+Math.floor(255*Math.random())+", "+Math.floor(0*Math.random())+", "+Math.floor(0*Math.random())+", "+Math.random().toPrecision(2)+")":t.color=c.color}t.pos={},e(),this.draw=function(){t.alpha<=0&&e(),t.pos.y-=t.speed,t.alpha-=5e-4,n.beginPath(),n.arc(t.pos.x,t.pos.y,t.scale*c.radius,0,2*Math.PI,!1),n.fillStyle=t.color,n.fill(),n.closePath()}}i=l.offsetWidth,o=l.offsetHeight,(t=document.createElement("canvas")).id="canvas",t.style.top=0,t.style.zIndex=0,t.style.position="absolute",l.appendChild(t),t.parentElement.style.overflow="hidden",(e=document.getElementById("canvas")).width=i,e.height=o,n=e.getContext("2d");for(var h=0;h<i*c.density;h++){var f=new s;r.push(f)}d(),window.addEventListener("scroll",function(){a=!(document.body.scrollTop>o)},!1),window.addEventListener("resize",function(){i=l.clientWidth,o=l.clientHeight,l.height=o+"px",e.width=i,e.height=o},!1)}}(jQuery),qipao();